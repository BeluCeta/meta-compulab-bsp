From a7d0684606602cfcac79c597529a7c02476d424a Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Tue, 2 Oct 2018 15:49:44 +0300
Subject: [PATCH 72/74] sb-ucm-imx8: dts: Define i2c1 bus and clients.

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 arch/arm64/boot/dts/compulab/sb-ucm-imx8.dtsi | 35 +++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

diff --git a/arch/arm64/boot/dts/compulab/sb-ucm-imx8.dtsi b/arch/arm64/boot/dts/compulab/sb-ucm-imx8.dtsi
index 641bce1..d252f00 100644
--- a/arch/arm64/boot/dts/compulab/sb-ucm-imx8.dtsi
+++ b/arch/arm64/boot/dts/compulab/sb-ucm-imx8.dtsi
@@ -14,6 +14,11 @@
 
 &iomuxc {
 	sb-ucm-imx8 {
+		pinctrl_pca95xx: pca95xx {
+			fsl,pins = <
+				MX8MQ_IOMUXC_NAND_WE_B_GPIO3_IO17	0xC0
+			>;
+		};
 		pinctrl_i2c4: i2c4grp {
 			fsl,pins = <
 				MX8MQ_IOMUXC_I2C4_SCL_I2C4_SCL	0x4000007f
@@ -27,6 +32,36 @@
 	reset-gpio = <&pca9555 0 GPIO_ACTIVE_LOW>;
 	status = "okay";
 };
+
+&i2c1 {
+	clock-frequency = <100000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_i2c1>;
+	status = "okay";
+
+	pca9555:pca9555@20 {
+		pinctrl-names = "default";
+		pinctrl-0 = <&pinctrl_pca95xx>;
+		compatible = "nxp,pca9555";
+		/* Role #0 */
+		gpio-controller;
+		#gpio-cells = <2>;
+		/* Role #1 */
+		interrupt-parent = <&gpio3>;
+		interrupts = <17 0x1>;
+		interrupt-controller;
+		#interrupt-cells = <2>;
+		/* Bus address */
+		reg = <0x20>;
+	};
+
+	eeprom@54 {
+		compatible = "atmel,24c08";
+		reg = <0x54>;
+		pagesize = <16>;
+	};
+};
+
 &pwm2 {
     status = "disabled";
 };
-- 
1.9.1

